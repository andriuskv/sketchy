(function(){"use strict";onmessage=async function(a){const{file:e}=a.data,t=await c(e);postMessage({blob:t,name:e.name})};async function c(a){const e=await createImageBitmap(a);let{width:t,height:n}=e;const s=Math.min(t,n,384);t<n?(n=s/e.width*n,t=s):(t=s/e.height*t,n=s);const i=new OffscreenCanvas(t,n);return i.getContext("2d").drawImage(e,0,0,t,n),i.convertToBlob({type:a.type,quality:.72})}})();
